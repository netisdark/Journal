<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Journal</title>
 
  </head>
 <style>
  *{
   margin:0;
   padding:0;
   box-sizing:border-box;
  }
  .container{
   width:100%;
   height:100vh;
   padding:20px;
  }
  h2,h3{
   text-align: center;
  }
  .options{
   width:100%;
   height:80vh;
   display:flex;
   flex-direction:column;
   padding:10px;
   overflow: scroll;
  }
  .lists{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin:20px;
   padding:20px;
   background: #e0e0e0;
   box-shadow:  5px 5px 6px #5a5a5a,
             -5px -5px 6px #ffffff;
   border:1px solid white;
   border-radius:50px;
   width:90%;
  }
  span{
   position: fixed;
   left:50%;
   bottom:5%;
   transform: translate(-50%,-5%);
   width:50px;
   height:50px;
   font-size:50px;
   border-radius:50%;
   background:skyblue;
   text-align: center;
   color: white;
  }
  #form{
   position:fixed;
   left:5%;
   bottom:1%;
   z-index:5;
   background: #e0e0e0;
   box-shadow:  5px 5px 6px #5a5a5a,
             -5px -5px 6px #ffffff;
   border:1px solid white;
   border-radius:50px;
   width:90%;
   display:none;
   padding:20px;
  }
  input{
   padding:15px;
   margin:10px;
   width:70%;
   border-radius:20px;
   border: none;
   outline:none;
  }
  input::placeholder {
   font-size:15px;
  }
  #cancel{
   padding:15px;
   border-radius:20px;
   color:white;
   border: none;
   background:rgba(255,0,0,0.5);
  }
  #add{
   width:90%;
   padding:15px;
   color:white;
   border:white;
   border-radius:10px;
   background:rgba(0,0,255,0.5);
   margin:0 10px;
  }
  #contain{
   width:100%;
   height:100vh;
   position:fixed;
   left:0;
   top:0;
   display:flex;
   flex-direction:column;
   align-items: center;
   z-index:10;
   background: white;
  }
  #contain input{
   border:1px solid black;
   padding:10px;
   margin:2px;
   font-size:20px;
  }
  #contain label{
   text-align:start;
   font-size:20px;
   font-weight:500;
   margin:10px;
  }
  #contain nav{
   font-size:30px;
   font-weight:700;
  }
  #contain p{
   padding:20px;
   border:1px solid white;
   border-radius:50px;
   width:90%;
   margin:20px;
   height:300px;
   background:#e0e0e0;
   overflow: scroll;
  }
  #contain button{
   width:80%;
   margin:10px 30px;
   
   padding:10px;
   font-size:15px;
   border: none;
   outline:none;
   
  }
  #submit{
   background:rgba(0,0,255,0.4);
  }
  #decline{
   background:rgba(255,0,0,0.4);
  }
 </style>
</head>
<body>
 <div class="container">
  <h2>My journal</h2>
  <div class="options" id="options">
  </div>
 </div>
 <div id="form">
  <h3>Add a new category</h3>
  <input type="text" id="name" placeholder="Enter Name for New Category">
  <button id="cancel" onclick="cancel()">Cancel</button>
  <p>
   <button id="add" onclick="add()">Add</button>
  </p>
 </div>
 <span id="span">+</span>
 
 <script>
  var options = document.getElementById('options');
  var form = document.getElementById('form');
  var span = document.getElementById('span');
  var count = localStorage.getItem('count') ? parseInt(localStorage.getItem('count')) : 0;

  span.addEventListener('click', function () {
   this.style.background = "gray";
   form.style.display = "block";
  });

  function cancel() {
   span.style.background = "skyblue";
   form.style.display = "none";
  }

  function add() {
   var input = document.getElementById('name');
   if (input.value == "") {
    alert('Please enter the name for a new category');
   } else {
    var div = document.createElement('div');
    div.setAttribute("class","lists");
    var p = document.createElement('p');
   var del=document.createElement('i');
   var edit=document.createElement('i');
   edit.innerHTML = "<button onclick='sub(" + i + ")'><svg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M3 17.25V21H6.75L17.81 9.94L14.06 6.19L3 17.25Z' stroke='blue' stroke-width='2'/><path d='M20.71 7.04C21.1 6.65 21.1 6 20.71 5.61L18.39 3.29C18 2.9 17.35 2.9 16.96 3.29L15.13 5.12L18.88 8.87L20.71 7.04Z' stroke='blue' stroke-width='2'/></svg></button>";
   del.innerHTML = "<button onclick='dele(" + i + ")'><svg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M3 6L5 6 21 6' stroke='red' stroke-width='2'/><path d='M8 6L8 4C8 3.44772 8.44772 3 9 3L15 3C15.5523 3 16 3.44772 16 4L16 6M19 6L19 20C19 21.1046 18.1046 22 17 22L7 22C5.89543 22 5 21.1046 5 20L5 6H19Z' stroke='red' stroke-width='2'/><line x1='10' y1='11' x2='10' y2='17' stroke='red' stroke-width='2'/><line x1='14' y1='11' x2='14' y2='17' stroke='red' stroke-width='2'/></svg></button>";
    p.appendChild(document.createTextNode(input.value));
    p.setAttribute("onclick","see("+i+")");
    
    div.appendChild(edit);
    div.appendChild(p);
   div.appendChild(del); document.getElementById('options').appendChild(div);

    localStorage.setItem("div[" + count + "]", input.value);
    count++;
    localStorage.setItem("count", count);
    input.value = ""; // Clear the input field
   }
  }
load();
  function load(){
  for (var i = 0; i < count; i++) {
   var value = localStorage.getItem("div[" + i + "]");
   if (value) {
    var div = document.createElement('div');
    div.setAttribute("class","lists");
    div.setAttribute("id",value);
    var p = document.createElement('p');
   var del=document.createElement('i');
   var edit=document.createElement('i');
   edit.innerHTML = "<button onclick='sub(" + i + ")'><svg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M3 17.25V21H6.75L17.81 9.94L14.06 6.19L3 17.25Z' stroke='blue' stroke-width='2'/><path d='M20.71 7.04C21.1 6.65 21.1 6 20.71 5.61L18.39 3.29C18 2.9 17.35 2.9 16.96 3.29L15.13 5.12L18.88 8.87L20.71 7.04Z' stroke='blue' stroke-width='2'/></svg></button>";
   del.innerHTML = "<button onclick='dele(" + i + ")'><svg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M3 6L5 6 21 6' stroke='red' stroke-width='2'/><path d='M8 6L8 4C8 3.44772 8.44772 3 9 3L15 3C15.5523 3 16 3.44772 16 4L16 6M19 6L19 20C19 21.1046 18.1046 22 17 22L7 22C5.89543 22 5 21.1046 5 20L5 6H19Z' stroke='red' stroke-width='2'/><line x1='10' y1='11' x2='10' y2='17' stroke='red' stroke-width='2'/><line x1='14' y1='11' x2='14' y2='17' stroke='red' stroke-width='2'/></svg></button>";
   p.appendChild(document.createTextNode(value));
   p.setAttribute("onclick","see("+i+")");

    div.appendChild(edit);
    div.appendChild(p);
   div.appendChild(del); document.getElementById('options').appendChild(div);
   }
  }
  }
  function dele(val){
   localStorage.removeItem("div[" + val + "]");
  location.href="index.html";
  }
  
  function sub(val){
   var contain=document.createElement('div');
   contain.setAttribute("id","contain");
   var para=document.createElement('nav');
   
   para.innerHTML="Edit";
   
   var labelName=document.createElement("label");
   labelName.innerHTML="Title:"
   var edit_input=document.createElement('input');
  var local=localStorage.getItem("div[" + val + "]");
   edit_input.setAttribute("type","text");
   edit_input.setAttribute("value",local);
   edit_input.setAttribute("id","string");
   var labelMessage=document.createElement("label");
   labelMessage.innerHTML="Your Message:"
   var message=document.createElement('p');
   message.setAttribute("id","message"); 
   message.setAttribute("contenteditable","true");
   var btn=document.createElement('button');
   btn.innerHTML="Submit";
  if(localStorage.getItem("sub["+val+"]")!==null){
   message.innerHTML=localStorage.getItem("sub["+val+"]");
  } 
  else{
   message.innerHTML="haha";
  }
  btn.setAttribute("onclick","submit("+val+")");
  btn.setAttribute("id","submit");  
  var btn1=document.createElement('button');
   btn1.innerHTML="Cancel";
   btn1.setAttribute("onclick","decline()");
   btn1.setAttribute("id","decline");
   contain.appendChild(para);
   
   contain.appendChild(labelName);
   contain.appendChild(edit_input);
   contain.appendChild(labelMessage);
   contain.appendChild(message);
   contain.appendChild(btn);
   contain.appendChild(btn1);
   document.body.appendChild(contain);
  }
  
  function decline(){
   location.href="index.html";
  }
  
  function submit(number){
   
   var string=document.getElementById("string");
   var message=document.getElementById("message");
   localStorage.setItem("div["+number+"]",string.value);
   localStorage.setItem("sub["+number+"]",message.innerHTML);
   location.href="index.html";
   }
   
   function see(num){
    var options=document.getElementById('options');
    options.innerHTML="<h2>"+localStorage. getItem("div["+num+"]")+"</h2><br>"+localStorage.getItem("sub["+num+"]")+"<br><button id='add' onclick='decline()'>Main Menu</button>";
   }
 </script>
</body>
</html>